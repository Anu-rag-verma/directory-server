<?xml version="1.0" encoding="ISO-8859-1"?> 
  
<project 
  default="buildall" 
  xmlns:j="jelly:core" 
  xmlns:u="jelly:util" 
  xmlns:ant="jelly:ant" 
  xmlns:maven="jelly:maven" 
  xmlns:m="maven" 
  xmlns:deploy="deploy"
  >
  
  <preGoal name="site">
    <attainGoal name="docbook:transform"/>
  </preGoal>
  
  <postGoal name="site">
    <attainGoal name="server:copy-images"/>
    <attainGoal name="subproject:collectdocs"/>
  </postGoal>

  <goal name="subproject:collectdocs">
    <ant:copy 
      toDir="../../../sitedocs/trunk/sitedocs/target/docs/subprojects/eve">
      
      <ant:fileSet dir="${basedir}/target/docs">
        <ant:include name="**"/>
      </ant:fileSet>
    </ant:copy>
  </goal>

  <goal name="server:copy-images">
    <copy toDir="target/docs/images">
      <fileSet dir="${basedir}/src/images">
        <include name="*.gif"/>
      </fileSet>
    </copy>
  </goal>
  
  <goal name="buildall" description="Build All Jar Files And Intall">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="**/project.xml" excludes="./project.xml" goals="jar:install" 
      banner="Building" ignoreFailures="false"/>
  </goal>
  
  <goal name="deployall" description="Deploy All Jar Files And Intall">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="**/project.xml" excludes="./project.xml" goals="jar:deploy" 
      banner="Deploying" ignoreFailures="false"/>
  </goal>
  
  <goal name="sitedocs" description="Builds the entire site documentation">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="**/project.xml" excludes="./project.xml" goals="site" 
      banner="site" ignoreFailures="false"/>
  </goal>
  
  <goal name="clean-all" description="Clean all sandbox projects">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="**/project.xml" excludes="./project.xml" goals="cleanall" 
      banner="Clean All" 
      ignoreFailures="true"/>
    <attainGoal name="clean"/>
    <delete dir="home"/>
  </goal>
  
  <goal name="eclipseall" 
    description="Generate eclipse descriptors for all projects">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="*/project.xml" goals="clean" banner="Clean All" 
      ignoreFailures="true"/>
  </goal>
  
  <goal name="eclipse-all" description="Create all eclipse projects">
    <maven:reactor basedir="${basedir}" postProcessing="true" 
      includes="*/project.xml" goals="eclipse" banner="Eclipse Project" 
      ignoreFailures="true"/>
  </goal>
  
  <!-- ========================================================================
    Experimentation section starts here!
    ======================================================================= -->
  
  <goal name="components">
    <j:import inherit="true" uri="components.xml"/>  
  </goal>
    
</project>
